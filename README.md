# 🌴 Restaurant Sales Performance Classification on Jeju Island

**25-1 기계학습 수업 최우수 프로젝트 선정** 🏆  
> 입지, 타깃 고객, 운영 조건 등 비미각적 요소를 기반으로 제주도 요식업 매출 등급을 예측하고 전략적 인사이트를 도출한 프로젝트입니다.


## 📌 Project Overview
* **목적**: 전략 수립에 활용 가능한 비즈니스 인사이트 제공 및 매출 등급 분류 모델 구축
* **특징**: 정형 데이터와 리뷰(텍스트) 데이터를 동시에 활용한 멀티모달 접근
* **성과**: **Baseline 대비 Macro Average F1-Score 84.1% 향상** (0.39 → 0.718)


## 🛠 Data Strategy & Feature Engineering

가공되지 않은 원천 데이터에서 비즈니스 의미를 추출하기 위해 고도화된 피처 엔지니어링을 수행했습니다.

* **상권 클러스터링**: 도메인 전문가와 함께 제주 주요 35개 중심지를 정의하고 '중심/주변/기타' 상권을 자동 분류하는 알고리즘 개발 및 적용
* **리뷰 키워드 임베딩**: 네이버 리뷰 67,219개를 **BGE-m3-ko** 모델로 임베딩 후, KNN을 통해 100개 대표 키워드로 압축 및 변수화
* **고객 행동 수치화**: 요일/시간대별 방문 분포의 균등성을 측정하기 위해 **Shannon Entropy** 지표 도입
* **상호작용 특성(Interaction Features)**: 모든 수치형 변수 간의 조합을 생성하고, 도메인 지식을 바탕으로 유효한 상호작용 변수를 직접 선별 및 생성

## 🏗 Model Architecture: Hybrid Two-stage Stacking
![Stacking Architecture](./images/my_architecture.png)
단일 모델의 한계를 극복하고 예측 편향을 최소화하기 위해 **13개 베이스 모델**과 **2단계 스태킹** 구조를 설계했습니다.

### **1. 개별 모델 예측 가중평균 (40%)**
* 13개 베이스 모델의 산술적 결합을 통해 예측의 안정성 확보
* **Score**: $Accuracy \times 70\% + F1\text{-}macro \times 30\%$
* **Weight**: $Softmax\ weight \times 80\% + Stability\ weight \times 20\%$

### **2. 개별 스태킹 (35%)**
* 베이스 모델의 결과로 학습된 **LR(선형), RF(Bagging), XGB(Boosting)** 모델의 중간 예측치
* 선형/비선형 패턴을 동시에 포착하여 최종 예측의 Bias와 Variance를 모두 최소화

### **3. 최종 메타 스태킹 (25%)**
* 위 세 개 모델의 결과를 다시 입력으로 받아 최종 결론을 내리는 **최상위 Meta Model**


## 🔍 Key Insights (XAI Analysis)

SHAP 분석을 통해 단순 예측을 넘어 실질적인 비즈니스 전략을 도출했습니다.

* **📍 입지 전략**: 위도·경도 좌표와 업종별 상권 맥락이 매출의 '기본값'을 결정하는 가장 중요한 변수임을 입증. 특정 업종이 성공하기 위한 지리적 요건이 매출의 베이스라인을 결정함.
* **👤 타깃 최적화**: 고매출(상위 10%) 매장은 **현지인 및 장년층(40대 이상)** 비중이 높음. 반면 하위 매장은 관광객과 중년층 비중에 편중됨.
* **✨ 시너지 효과**: 특정 도심 지역은 현지 장년층과의 결합도가 높을 때 매출 시너지가 극대화되는 패턴 포착. 지역 상권별 인구 구성에 맞춘 맞춤형 업종 전략의 중요성 시사.
